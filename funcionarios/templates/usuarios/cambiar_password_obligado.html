{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <div class="alert alert-warning">
        <h4>⚠️ Cambio obligatorio de contraseña</h4>
        <p>
            Por seguridad, debe actualizar su contraseña. Si no lo hace en los próximos <strong>5 minutos</strong>,
            su sesión será cerrada automáticamente.
        </p>
    </div>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Cambiar contraseña</button>
    </form>
</div>

<script>
    // Oculta automáticamente los mensajes después de 3 segundos
    setTimeout(function () {
        const alerts = document.querySelectorAll('.alert-success, .alert-danger, .alert-error');
        alerts.forEach(alert => {
            alert.style.display = 'none';
        });
    }, 3000);
</script>
{% endblock %}

