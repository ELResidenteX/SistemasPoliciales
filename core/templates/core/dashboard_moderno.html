{% extends "core/base.html" %}
{% block title %}Inicio - Sistema Policial{% endblock %}

{% block head %}
<style>
  /* Hero y tarjetas estilo oscuro */
  .hero {
    background: linear-gradient(180deg, rgba(6,12,34,0.95) 0%, rgba(7,13,28,0.9) 100%);
    color: #fff;
    border-radius: 12px;
    padding: 28px;
    box-shadow: 0 8px 30px rgba(2,6,23,0.6);
  }
  .hero h1{font-weight:700;color:#fff;margin-bottom:.25rem}
  .hero p{color:rgba(255,255,255,.8)}
  .stat-card{background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); border-radius:10px; padding:18px}
  .small-muted{color:rgba(255,255,255,.6);font-size:.8rem}
  .card-dark{background:linear-gradient(180deg, rgba(14,21,38,0.6), rgba(9,14,26,0.6)); border-radius:12px; padding:18px; color: #e9f0ff}
  .list-recent .list-group-item{background:transparent;border:0;padding:.6rem 0;border-bottom:1px dashed rgba(255,255,255,0.03)}
  .cta-btn{background:linear-gradient(90deg,var(--primary),var(--accent)); color:#fff; border-radius:999px; padding:.45rem .9rem}
  @media (min-width: 992px){
    .hero{display:flex;gap:24px;align-items:center}
    .hero-main{flex:1}
    .hero-stats{width:320px}
  }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid">
  <div class="row mb-4">
    <div class="col-12">
      <div class="hero">
        <div class="hero-main">
          <div class="small-muted">SISTEMA POLICIAL &middot; CENTRO OPERATIVO</div>
          <h1>Gestión integral de eventos y partes en tiempo real</h1>
          <p>Coordina operativos, valida reportes y comparte decisiones críticas con rapidez. Visualiza el estado de cada evento sin perder trazabilidad.</p>

          <div class="mt-3 d-flex gap-2">
            <a href="{% url 'nuevo_evento' %}" class="cta-btn btn btn-sm">Crear evento</a>
            <a href="{% url 'vista_busqueda_partes' %}" class="btn btn-outline-light btn-sm">Ver protocolos</a>
          </div>
        </div>

        <div class="hero-stats">
          <div class="stat-card mb-2">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <div class="small-muted">EVENTOS ACTIVOS</div>
                <div class="h4 mb-0">{{ events_count|default:24 }}</div>
              </div>
              <div class="text-end small-muted">+3 hoy</div>
            </div>
          </div>
          <div class="stat-card mb-2">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <div class="small-muted">VALIDACIONES PENDIENTES</div>
                <div class="h5 mb-0">{{ validations_count|default:8 }}</div>
              </div>
              <div class="text-end small-muted">4 prioridad alta</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <div class="small-muted">EQUIPOS EN TURNO</div>
                <div class="h5 mb-0">{{ equipos_count|default:12 }}</div>
              </div>
              <div class="text-end small-muted">Distribuidos en 4 zonas</div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-7 mb-3">
      <div class="card card-dark">
        <h5 class="mb-2">Registra un nuevo operativo o incidente</h5>
        <p class="small-muted">Define alcance, recursos asignados y hitos de validación para garantizar trazabilidad y escalamiento oportuno.</p>
        <ol class="small-muted">
          <li>Detalles iniciales: Selecciona tipo de evento, zona de cobertura y unidad responsable.</li>
          <li>Recursos y turnos: Asigna móviles, personal y horarios críticos para el operativo.</li>
          <li>Validación: Envía para revisión de jefatura y coordina con fiscalía cuando corresponda.</li>
        </ol>

        <div class="mt-3 d-flex gap-2">
          <a href="{% url 'nuevo_evento' %}" class="btn btn-primary btn-sm">Nuevo evento operativo</a>
          <a href="#" class="btn btn-outline-light btn-sm">Cargar plantilla previa</a>
        </div>
      </div>
    </div>
    <div class="col-lg-5 mb-3">
      <div class="card bg-transparent border-0 p-0">
        <div class="card-body p-0">
          <div class="card-dark mb-3">
            <div class="d-flex justify-content-between align-items-start">
              <h6 class="mb-1">Búsqueda de partes</h6>
              <span class="small-muted">Seguimiento inmediato</span>
            </div>
            <div class="mt-2 mb-2">
              <input class="form-control form-control-sm bg-dark text-light" placeholder="Buscar por código, zona o agente...">
            </div>
            <ul class="list-group list-recent mt-2">
              <li class="list-group-item"><a href="#" class="text-decoration-none text-white">PAR-5342 &middot; Robo a comercio — Mte 842 <span class="small-muted d-block">Actualizado hace 12 min</span></a></li>
              <li class="list-group-item"><a href="#" class="text-decoration-none text-white">PAR-5338 &middot; Violencia intrafamiliar — Barrio El Rosario <span class="small-muted d-block">Actualizado hace 25 min</span></a></li>
              <li class="list-group-item"><a href="#" class="text-decoration-none text-white">PAR-5331 &middot; Colisión múltiple — Autopista Sur km 18 <span class="small-muted d-block">Actualizado hace 41 min</span></a></li>
            </ul>
          </div>

          <div class="card-dark">
            <h6 class="mb-2">Eventos en validación</h6>
            <p class="small-muted mb-2">Controla avances, devuelve observaciones y asegura aprobación sin cuellos de botella.</p>
            <div class="d-flex gap-2 flex-wrap">
              <span class="badge bg-secondary">Todos</span>
              <span class="badge bg-warning text-dark">Prioridad alta</span>
              <span class="badge bg-light text-dark">En revisión</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-2">
    <div class="col-12">
      <div class="card p-3">
        <div class="d-flex justify-content-between align-items-center">
          <h6 class="mb-0">Bitácora en vivo</h6>
          <span class="small-muted">Actualizaciones recientes del centro de control</span>
        </div>
        <div class="mt-3 small-muted">No cambiar la lógica del sistema; esta vista usa las rutas y acciones existentes.</div>
      </div>
    </div>
  </div>

</div>
{% endblock %}
